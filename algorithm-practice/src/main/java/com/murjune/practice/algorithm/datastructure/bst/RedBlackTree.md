[ì‰¬ìš´ ì½”ë“œ - Red-Black Tree](https://www.youtube.com/watch?v=2MdsebfJOyM) ë¥¼ ì •ë¦¬í•œ ë¬¸ì„œë‹¤.

# BST

BST(ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬)ëŠ” íƒìƒ‰, ì‚½ìž…, ì‚­ì œ ì—°ì‚°ì„ O(log n) ì‹œê°„ì— ìˆ˜í–‰í•  ìˆ˜ ìžˆì§€ë§Œ, ì‚½ìž…/ì‚­ì œ ì—°ì‚°ì„ ìˆ˜í–‰í•  ë•Œë§ˆë‹¤ íŠ¸ë¦¬ì˜ ë†’ì´ê°€ ì¦ê°€í•  ìˆ˜ ìžˆì–´ ìµœì•…ì˜ ê²½ìš° O(n)
ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìžˆë‹¤.
ì´ëŸ° ê²½ìš°ë¥¼ skewed tree(íŽ¸í–¥ëœ íŠ¸ë¦¬)ë¼ê³  í•œë‹¤.

BST ì˜ íƒìƒ‰ ì†ë„ë¥¼ í•­ìƒ O(log n)ìœ¼ë¡œ ìœ ì§€í•˜ê¸° ìœ„í•´ ì™¼ìª½ ì˜¤ë¥¸ìª½ ì„œë¸Œ íŠ¸ë¦¬ì˜ ë†’ì´ì˜ ê· í˜•ì„ ë§žì¶”ê¸° ìœ„í•´ ê³ ì•ˆëœ íŠ¸ë¦¬(self-balancing binary search
tree) ì¤‘ `AVL Tree`ì™€ `Red-Black Tree` ê°€ ìžˆë‹¤.

# Red-Black Tree

RB Tree ëŠ” AVL Tree ë³´ë‹¤ ì¡°ê¸ˆ ë” ë§Žì´ ì‚¬ìš©ë˜ëŠ” self-balancing binary search tree ì´ë‹¤. ë¦¬ëˆ…ìŠ¤ì˜ CPU ìŠ¤ì¼€ì¤„ë§, Java ì˜
hasMap, hashSet ë“±ì´ Red-Black Tree ë¡œ êµ¬í˜„ë˜ì–´ ìžˆë‹¤.

## Red-Black Tree ì¡°ê±´

ë‹¤ìŒì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” BST ë¥¼ Red-Black Tree ë¼ê³  í•œë‹¤.

- rule 1) ê° ë…¸ë“œëŠ” red ë˜ëŠ” black ì´ë¼ëŠ” ìƒ‰ê¹”ì„ ê°€ì§„ë‹¤.
- rule 2) Root ë…¸ë“œëŠ” black ì´ë‹¤.
- rule 3) ëª¨ë“  leaf ë…¸ë“œëŠ” black ì´ë‹¤.(NIL ë…¸ë“œ)
- rule 4) red ë…¸ë“œì˜ ìžì‹ ë…¸ë“œëŠ” black ì´ë‹¤.
- rule 5) ì–´ë–¤ ë…¸ë“œë¡œë¶€í„° leaf ë…¸ë“œê¹Œì§€ì˜ ëª¨ë“  ê²½ë¡œì—ëŠ” ë™ì¼í•œ ê°œìˆ˜ì˜ black ë…¸ë“œê°€ ì¡´ìž¬í•œë‹¤.

## Red-Black íŠ¸ë¦¬ ë†’ì´

> [ì‹ ì°¬ìˆ˜ - ìžë£Œêµ¬ì¡° - ê· í˜•íƒìƒ‰ì´ì§„íŠ¸ë¦¬ - Red-Black íŠ¸ë¦¬](https://www.youtube.com/watch?v=SHdYv41iCmE)

Red-Black Tree ì˜ ë†’ì´ëŠ” ìµœëŒ€ 2log(n+1) ìœ¼ë¡œ, íƒìƒ‰ì‹œ O(log n) ì˜ ì‹œê°„ë³µìž¡ë„ë¥¼ ë³´ìž¥í•œë‹¤.

- bh(ð‘¥): íŠ¹ì • ë…¸ë“œ xì—ì„œ í•´ë‹¹ ì„œë¸ŒíŠ¸ë¦¬ì˜ ëª¨ë“  ë¦¬í”„ ë…¸ë“œê¹Œì§€ì˜ ê²½ë¡œì—ì„œ ë§Œë‚˜ëŠ” `ê²€ì • ë…¸ë“œ`ì˜ ê°œìˆ˜
- h(x): íŠ¹ì • ë…¸ë“œ xì—ì„œ í•´ë‹¹ ì„œë¸ŒíŠ¸ë¦¬ì˜ ë¦¬í”„ ë…¸ë“œê¹Œì§€ì˜ ê²½ë¡œì—ì„œ ë§Œë‚˜ëŠ” `ëª¨ë“  ë…¸ë“œ`ì˜ ê°œìˆ˜
- n: ëª¨ë“  ë…¸ë“œì˜ ê°œìˆ˜

rule 4 ì— ì˜í•´ n ê°œì˜ ë…¸ë“œ ì¤‘ black ë…¸ë“œì˜ ê°œìˆ˜ëŠ” n/2 ì´ìƒì´ë‹¤.

- =>`h(x) <= 2bh(x)`

rule 5 ì— ì˜í•´ ëª¨ë“  leaf ë…¸ë“œê¹Œì§€ ë™ì¼í•œ ê°œìˆ˜ì˜ black ë…¸ë“œê°€ ì¡´ìž¬í•œë‹¤.
ë”°ë¼ì„œ, black ë…¸ë“œì˜ ê°œìˆ˜ëŠ” `2^(bh(x)) - 1` ì´ê¸° ë•Œë¬¸ì—, ì „ì²´ ë…¸ë“œ ê°œìˆ˜(n)ëŠ” ìµœì†Œ `2^(bh(x)) - 1` ì´ë‹¤.

- => `n >= 2^(bh(x)) - 1`

ê·¸ë¦¬ê³ , ì „ì²´ ë…¸ë“œì˜ ê°œìˆ˜ëŠ” Perfact Binary Tree ì˜ ë…¸ë“œ ê°œìˆ˜ ì´í•˜ì´ë‹¤.

- => `n <= 2^h(x) - 1`

ë„ì¶œëœ 3ê°€ì§€ ì‹ì„ ì´ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì‹ì„ ìœ ë„í•  ìˆ˜ ìžˆë‹¤.

![img.png](image/img13.png)
![img_1.png](image/img12.png)

ë”°ë¼ì„œ, Red-Black Tree ì˜ ë†’ì´ëŠ” ìµœëŒ€ `2log(n+1)` ì´ê³ , íƒìƒ‰ì‹œ `O(log n)` ì˜ ì‹œê°„ë³µìž¡ë„ë¥¼ ë³´ìž¥í•œë‹¤.

## Red-Black Tree Color ë°˜ì „

![img_10.png](image/img_24.png)

ìžì‹ì˜ color ê°€ ê°™ê³  Red-Blackì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê²½ìš°, ë¶€ëª¨ì™€ ìžì‹ì˜ color ë¥¼ ëª¨ë‘ ë°˜ì „ ì‹œì¼œë„ rule 5 ë¥¼ ë§Œì¡±í•œë‹¤.

ì´ ì•„ì´ë””ì–´ëŠ” Red-Black Tree ì˜ ì‚½ìž…, ì‚­ì œ ì—°ì‚°ì—ì„œ ë§¤ìš° ì¤‘ìš”í•œ ì—­í• ì„ í•˜ê¸° ë•Œë¬¸ì— ìž˜ ì•Œê³  ìžˆì–´ì•¼ í•œë‹¤.

## Red Black Tree vs AVL Tree

| ì†ì„±                      | Red-Black íŠ¸ë¦¬                          | AVL íŠ¸ë¦¬                          |
|---------------------------|-----------------------------------------|-----------------------------------|
| ì‚½ìž…/ì‚­ì œ/ê²€ìƒ‰              | ìµœì•…ì˜ ê²½ìš°: O(log N)                   | ìµœì•…ì˜ ê²½ìš°: O(log N)             |
| ì‚½ìž…/ì‚­ì œ ì„±ëŠ¥              | AVL íŠ¸ë¦¬ì— ë¹„í•´ ë¹ ë¥´ë‹¤                   | Red-Black íŠ¸ë¦¬ì— ë¹„í•´ ëŠë¦¬ë‹¤       |
| ê²€ìƒ‰ ì„±ëŠ¥                   | AVL íŠ¸ë¦¬ì— ë¹„í•´ ëŠë¦¬ë‹¤                   | Red-Black íŠ¸ë¦¬ì— ë¹„í•´ ë¹ ë¥´ë‹¤       |
| ê· í˜• ìž¡ëŠ” ë°©ì‹              | Red-Black íŠ¸ë¦¬ì˜ ì†ì„± ë§Œì¡±               | ê· í˜• ì¸ìž(balance factor) âˆˆ {-1, 0, 1} |
| ì‘ìš© ì‚¬ë¡€                   | Linux ì»¤ë„, Java TreeMap ë“±              | ì‚¬ì „(dictionary), C++ std::map ë“±  |


- AVL Tree ëŠ” ë†’ì´ë¥¼ ìµœì†Œí™”í•˜ì—¬ íƒìƒ‰, ì‚½ìž…, ì‚­ì œ ì—°ì‚°ì„ O(log n) ì‹œê°„ì— ìˆ˜í–‰í•œë‹¤.
- AVL Tree ëŠ” Red-Black Tree ë³´ë‹¤ ë†’ì´ê°€ ë‚®ì•„ íƒìƒ‰ ì‹œ ë” ë¹ ë¥´ì§€ë§Œ, ì‚½ìž…, ì‚­ì œ ì—°ì‚° ì‹œ ë” ëŠë¦¬ë‹¤.

#### Q) AVL Tree ëŠ” Red-Black Tree ë³´ë‹¤ ì‚½ìž…/ì‚­ì œ ì—°ì‚°ì´ ëŠë¦´ê¹Œ?
AVL Tree ëŠ” ì‚­ì œ/ì‚½ìž… ì—°ì‚° ì‹œ, í•­ìƒ root ë…¸ë“œê¹Œì§€ ì˜¬ë¼ê°€ balance factor ë¥¼ ì¡°ì •í•œë‹¤.
ë°˜ë©´, Red-Black Tree ëŠ” ì‚½ìž…/ì‚­ì œ ì—°ì‚° ì‹œ, ê· í˜•ì´ ê¹¨ì ¸ë„ root ê¹Œì§€ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ ê· í˜•ì„ ë§žì¶”ëŠ” ê²½ìš°ê°€ ë” ì ë‹¤.

ì¦‰, AVL ì´ ë” ì—„ê²©í•˜ê²Œ ê· í˜•ì„ ë§žì¶”ê¸° ë•Œë¬¸ì— ì‚½ìž…/ì‚­ì œ ì—°ì‚°ì´ ë” ëŠë¦¬ë‹¤.

#### Q) Red-Black Tree ëŠ” AVL Tree ë³´ë‹¤ ê²€ìƒ‰ ì„±ëŠ¥ì´ ëŠë¦´ê¹Œ?

ê²€ìƒ‰ ì„±ëŠ¥ì€ AVL Tree ê°€ ë” ë¹ ë¥¸ë°, ê·¸ ì´ìœ ëŠ” ê· í˜•ì´ ë” ìž˜ ë§žì¶°ì ¸ì„œ ë†’ì´ê°€ ë” ë‚®ê¸° ë•Œë¬¸ì— ê²€ìƒ‰ì´ ë” ë¹ ë¥´ë‹¤.

#### Q) Red-Black Tree ëž‘ AVL Tree ì¤‘ ì–´ë–¤ ê²ƒì„ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?

ì‚­ì œ/ì‚½ìž… ì—°ì‚°ì´ ë” ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•˜ëŠ” ê²½ìš° Red-Black Tree ë¥¼ ì‚¬ìš©í•œë‹¤.  
ê²€ìƒ‰ë§Œ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•˜ëŠ” ê²½ìš° AVL Tree ë¥¼ ì‚¬ìš©í•œë‹¤.

ì‹¤ ì‚¬ë¡€) Red-Black Tree - ë¦¬ëˆ…ìŠ¤ ì»¤ë„, ìžë°”ì—ì„œëŠ” TreeMap, TreeSet  
ì‹¤ ì‚¬ë¡€) AVL Tree ëŠ” ì‚­ì œ/ì‚½ìž… ì—°ì‚°ì´ ê±°ì˜ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ” dictionary 